(this["webpackJsonpfee-cafe"]=this["webpackJsonpfee-cafe"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},56:function(e,t,n){},65:function(e,t){},66:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n.n(a),c=n(24),r=n.n(c),o=(n(35),n(36),n(12)),i=n.n(o),l=n(25),u=n(26),d=n(27),b=n(30),p=n(29),j=n(13),f=n.n(j),g=n(28),h=n.n(g),v=(n(56),n(69)),m=n(1),O=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={info:{},errorMsg:"",transactions:[],address:""},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a,s,c,r,o,l=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("entering componentDidMount"),t=-1,e.prev=2,e.next=5,h()();case 5:if(!e.sent){e.next=21;break}return n=window,a=n.ethereum,e.prev=8,e.next=11,a.request({method:"eth_requestAccounts"});case 11:s=e.sent,console.log(s),t=s[0],e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),console.error(e.t0);case 19:e.next=22;break;case 21:console.log("Please install MetaMask!");case 22:console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/fee-cafe",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BSCSCAN_APIKEY:"7G7V5921IW3QYPPE3WWDMV8E1MNHYBBNG9",REACT_APP_TEST_ADDRESS:"0xc32A0C5d5bCaE50edEF95692295F94b668AC5C97"})),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(2),console.log("Could not load metamask");case 28:console.log(t),"7G7V5921IW3QYPPE3WWDMV8E1MNHYBBNG9",c=[],r={},o="https://api.bscscan.com/api?module=account&action=txlist&address=".concat(t,"&startblock=1&endblock=99999999&sort=asc&apikey=").concat("7G7V5921IW3QYPPE3WWDMV8E1MNHYBBNG9"),f.a.get(o).then((function(e){var n=(c=e.data.result).filter((function(e){return e.from===t.toLowerCase()}));l.setState({transactions:c});var a=c.map((function(e){return parseInt(e.gasPrice)})),s=a.reduce((function(e,t){return parseInt(e)+parseInt(t)}),0),o=c.map((function(e){return parseInt(e.gasUsed)})),i=o.reduce((function(e,t){return parseInt(e)+parseInt(t)}),0),u=Object(v.b)(a,o),d=parseInt(Object(v.a)(a)/1e9);r.transactionsSent=n.length,r.gasPrice=a,r.gasUsed=s,r.gasPriceTotal=o,r.gasUsedTotal=i,r.totalTransactionsFees=u,r.meanGasPrice=d,f.a.get("https://api.coingecko.com/api/v3/simple/price?ids=binancecoin&vs_currencies=usd").then((function(e){console.log("bnb price in usd "+e.data.binancecoin.usd),r.bnbPrice=Number(e.data.binancecoin.usd),l.setState({info:r},(function(){console.log("setState completed",this.state)}))})).catch((function(e){console.log(e),l.setState({errorMsg:"Error retrieving price data"})}))})).catch((function(e){console.log(e),l.setState({errorMsg:"Error retrieving data. Have you installed Metamask?"})}));case 34:case"end":return e.stop()}}),e,null,[[2,25],[8,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=(e.transactions,e.errorMsg),n=e.info;return console.log(this.state),Object(m.jsxs)("div",{className:"Transactions-body",children:[Object(m.jsxs)("div",{className:"Transactions-text",children:["You've spent ",Object(m.jsx)("span",{className:"Transactions-value",children:(n.totalTransactionsFees/1e18).toFixed(3)})," BNB on gas. As of today, that's worth",Object(m.jsxs)("span",{className:"Transactions-value",children:[" $",Number(n.bnbPrice*(n.totalTransactionsFees/1e18)).toLocaleString()]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),"You've used ",Object(m.jsx)("span",{className:"Transactions-value",children:Number(n.gasUsedTotal).toLocaleString()})," gas to send ",Object(m.jsx)("span",{className:"Transactions-value",children:Number(n.transactionsSent)})," transactions, with an average price of ",Object(m.jsx)("span",{className:"Transactions-value",children:Number(n.meanGasPrice).toLocaleString()})," gwei.",Object(m.jsx)("br",{}),Object(m.jsx)("p",{className:"Transactions-tips",children:"Consider a tip :D | 0x33F3a9845AF04022c3A9576494089a74c78d150c"})]}),t?Object(m.jsx)("div",{children:t}):null]})}}]),n}(a.Component);var x=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(O,{})})};r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(x,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.cb9fe651.chunk.js.map